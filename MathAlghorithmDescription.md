# Подробно Математическо Описание на Алгоритъма de Casteljau

Алгоритъмът на de Casteljau е мощен метод за изчисляване на точки върху криви на Безие. Той използва линейна интерполация между контролни точки, за да генерира нови точки, които точно приближават кривата на Безие.

## Математическа Формулировка

Алгоритъмът на de Casteljau работи чрез рекурсивна интерполация. Нека имаме `n + 1` контролни точки `P_0, P_1, ..., P_n`. За параметър `t`, където `0 \leq t \leq 1`, алгоритъмът определя точките на кривата `B(t)` чрез следните стъпки:

1. За всяка двойка точки `(P_i, P_{i+1})`, изчисляваме нова точка `Q_i` чрез линейна интерполация:

   $$ 
   Q_i(t) = (1 - t) \cdot P_i + t \cdot P_{i+1} 
   $$

2. Повтаряме интерполацията за новия набор от точки `Q_i`, докато не остане само една точка. Тази точка е `B(t)`.

## Пример за Крива от 3-ти Ред (Кубична Безиева Крива)

Нека имаме четири контролни точки `P_0, P_1, P_2, P_3`. За параметър `t`:

1. Изчисляваме първия набор от интерполирани точки:

   $$
   Q_0(t) = (1 - t) \cdot P_0 + t \cdot P_1
   $$

   $$
   Q_1(t) = (1 - t) \cdot P_1 + t \cdot P_2
   $$

   $$
   Q_2(t) = (1 - t) \cdot P_2 + t \cdot P_3
   $$

2. Изчисляваме втория набор от интерполирани точки:

   $$
   R_0(t) = (1 - t) \cdot Q_0 + t \cdot Q_1
   $$

   $$
   R_1(t) = (1 - t) \cdot Q_1 + t \cdot Q_2
   $$

3. Изчисляваме крайната точка:

    $$ 
   B_i(t) = (1 - t) \cdot P_i + t \cdot P_{i+1} 
   $$

## Забележка

Алгоритъмът на de Casteljau гарантира, че резултатът винаги ще лежи върху конвексния корпус на оригиналните контролни точки.
